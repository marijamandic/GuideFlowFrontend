<div style="display: flex; align-items: flex-start;" class="tour-details-container">
  <section>
    <h2>My tour preference</h2>

    <div *ngIf="tourSpecification.length === 0">
      <button (click)="toggleAddForm(null)" class="button">Add peference</button>
    </div>
    
    <div >
      <div *ngFor="let ts of tourSpecification; let i = index" class="tour-info">
        <div class="tour-details-table">
          <div class="tour-details-row">
            <h3>Tour level</h3>
            <h3>Taggs</h3>
            <h3>Walk rate</h3>
            <h3>Bike rate</h3>
            <h3>Car rate</h3>
            <h3>Boat rate</h3>
          </div>
          <div class="tour-details-row">
            <h3>{{ ts.level }}</h3>
            <h3>{{ ts.taggs }}</h3>
            <h3>{{ getRatingByTransportMode(ts.transportRatings, 0) }}</h3>
            <h3>{{ getRatingByTransportMode(ts.transportRatings, 1) }}</h3>
            <h3>{{ getRatingByTransportMode(ts.transportRatings, 2) }}</h3>
            <h3>{{ getRatingByTransportMode(ts.transportRatings, 3) }}</h3>
          </div>
        </div>
        <div class="button-container">
          <button (click)="deleteTourSpecification(ts)" class="button">Delete</button>
          <button class="button">Edit</button>
        </div>
      </div>
    </div>

    <div *ngIf="isAddFormVisible" class="tour-form">
      <p><strong>Level:</strong></p>
      <select id="level" [(ngModel)]="ts.level" name="level" required>
        <option value="Easy">Easy</option>
        <option value="Advanced">Advanced</option>
        <option value="Expert">Expert</option>
      </select>
    
      <p><strong>Taggs:</strong></p>
      <div class="tags-container">
        <div *ngFor="let tag of ts.taggs; let j = index; trackBy: trackByIndex" class="tag-input-wrapper">
          <input
            id="tag{{j}}"
            [(ngModel)]="ts.taggs[j]"
            placeholder="Tag {{j + 1}}"
            class="form-control"
          />
        </div>
        
      </div>
      <button class="button" (click)="addTag(ts)">Add Tag</button>

      <table class="rating-table">
        <tbody>
          <tr>
            <td><strong>Rate walk:</strong></td>
            <td>
              <div class="rating-buttons">
                <label>
                  <input type="radio" name="vehicle1" [(ngModel)]="ts.transportRatings[0].rating" [value]="0" />
                  <span class="custom-radio"></span> 0
                </label>
                <label>
                  <input type="radio" name="vehicle1" [(ngModel)]="ts.transportRatings[0].rating" [value]="1" />
                  <span class="custom-radio"></span> 1
                </label>
                <label>
                  <input type="radio" name="vehicle1" [(ngModel)]="ts.transportRatings[0].rating" [value]="2" />
                  <span class="custom-radio"></span> 2
                </label>
                <label>
                  <input type="radio" name="vehicle1" [(ngModel)]="ts.transportRatings[0].rating" [value]="3" />
                  <span class="custom-radio"></span> 3
                </label>
              </div>
            </td>
          </tr>
          <tr>
            <td><strong>Rate bike:</strong></td>
            <td>
              <div class="rating-buttons">
                <label>
                  <input type="radio" name="vehicle2" [(ngModel)]="ts.transportRatings[1].rating" [value]="0" />
                  <span class="custom-radio"></span> 0
                </label>
                <label>
                  <input type="radio" name="vehicle2" [(ngModel)]="ts.transportRatings[1].rating" [value]="1" />
                  <span class="custom-radio"></span> 1
                </label>
                <label>
                  <input type="radio" name="vehicle2" [(ngModel)]="ts.transportRatings[1].rating" [value]="2" />
                  <span class="custom-radio"></span> 2
                </label>
                <label>
                  <input type="radio" name="vehicle2" [(ngModel)]="ts.transportRatings[1].rating" [value]="3" />
                  <span class="custom-radio"></span> 3
                </label>
              </div>
            </td>
          </tr>
          <tr>
            <td><strong>Rate car:</strong></td>
            <td>
              <div class="rating-buttons">
                <label>
                  <input type="radio" name="vehicle3" [(ngModel)]="ts.transportRatings[2].rating" [value]="0" />
                  <span class="custom-radio"></span> 0
                </label>
                <label>
                  <input type="radio" name="vehicle3" [(ngModel)]="ts.transportRatings[2].rating" [value]="1" />
                  <span class="custom-radio"></span> 1
                </label>
                <label>
                  <input type="radio" name="vehicle3" [(ngModel)]="ts.transportRatings[2].rating" [value]="2" />
                  <span class="custom-radio"></span> 2
                </label>
                <label>
                  <input type="radio" name="vehicle3" [(ngModel)]="ts.transportRatings[2].rating" [value]="3" />
                  <span class="custom-radio"></span> 3
                </label>
              </div>
            </td>
          </tr>
          <tr>
            <td><strong>Rate boat:</strong></td>
            <td>
              <div class="rating-buttons">
                <label>
                  <input type="radio" name="vehicle4" [(ngModel)]="ts.transportRatings[3].rating" [value]="0" />
                  <span class="custom-radio"></span> 0
                </label>
                <label>
                  <input type="radio" name="vehicle4" [(ngModel)]="ts.transportRatings[3].rating" [value]="1" />
                  <span class="custom-radio"></span> 1
                </label>
                <label>
                  <input type="radio" name="vehicle4" [(ngModel)]="ts.transportRatings[3].rating" [value]="2" />
                  <span class="custom-radio"></span> 2
                </label>
                <label>
                  <input type="radio" name="vehicle4" [(ngModel)]="ts.transportRatings[3].rating" [value]="3" />
                  <span class="custom-radio"></span> 3
                </label>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      
      

      <button class="button" (click)="createTourSpecification()">Save</button>
    </div>
  </section>
</div>
