<div class="main-column">
  <div class="post-flex">
    <div *ngFor="let p of postsToShow" class="post-container" (click)="navigateToPostDetails(p.id)">
      <div class="post-content">
        <div class="post-header">
          <p class="user-details">{{ p.username }} â€¢ {{ p.publishDate | date:'medium' }}</p>
        </div>

        <h2 class="post-title">{{ p.title }}</h2>
        
        <!-- Limited Description -->
        <div class="limited-description">
          <p class="description">{{ p.description }}</p>
        </div>

        <div class="bottom-interaction-bar">
          <div class="vote-container">
            <button class="vote-button fa fa-arrow-up" (click)="upvote(p.id)"></button>
            <span class="vote-count">420</span>
            <button class="vote-button fa fa-arrow-down" (click)="downvote(p.id)"></button>
          </div>
          <div class="interaction-container">
            <button class="interaction-button fa fa-comment"></button>
            <span class="interaction-count">{{ getCommentCount(p.id) }}</span>
          </div>
        </div>
      </div>
      
      <!-- Image on the Right Side -->
      <img [src]="getImagePath(p.imageUrl)" alt="Post image" *ngIf="p.imageUrl" class="post-image" />
    </div>
  </div>

  <!-- Create post button for authors at the bottom -->
  <button class="cta-button" *ngIf="user?.role === 'author'" (click)="navigateToCreatePost()">
    Create post
  </button>
</div>
