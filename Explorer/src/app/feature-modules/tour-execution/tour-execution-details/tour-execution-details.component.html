<div *ngIf="tourExecution">
    <div class="title">
      <h2>Mountain ride Tour Execution</h2>
    </div>
    <div class="tourExecutionContainer">
      <div class="tourDetails">
        <div class="tourExecution-card">
          <div class="checkpoint-header">
            <h3>Tour execution details</h3>
          </div>
          <div class="basicInfo">
            <p><strong>User name:</strong> {{ tourist?.username }}</p>
            <p><strong>Tour Range:</strong> {{ tourExecution.tourRange }} km</p>
            <p><strong>Execution Status:</strong> {{ mapToTourExecutionStatus( tourExecution.executionStatus) }}</p>
            <p><strong>Start Time:</strong> {{ tourExecution.startTime | date: 'short' }}</p>
            <p><strong>Number of checkpoints:</strong> {{tourExecution.checkpointsStatus.length}}</p>
          </div>
        </div>
        <div class="checkpoint-status">
          <div class="checkpoint-card">
            <div class="checkpoint-image-wrapper">
              <img [src]="getImagePath(currentCheckpoint.checkpoint.imageUrl)" alt="Checkpoint Image" class="checkpoint-image" />
            </div>
            <div class="checkpoint-header">
              <h3>{{ currentCheckpoint.checkpoint.name }}</h3>
            </div>
            <div class="checkpoint-info">
              <p><strong>Description:</strong> {{ currentCheckpoint.checkpoint.description }}</p>
              <p><strong>Completion Time:</strong> {{ mapToCompletionTime(currentCheckpoint.completionTime) }}</p>
              <p><strong>Secret:</strong> {{ currentCheckpoint.checkpoint.secret }}</p>
            </div>
            <div class="checkpoint-dots">
              <!-- Proveravamo da li 'tourExecution' postoji i da 'checkpointsStatus' nije null ili undefined -->
              <div 
                *ngFor="let checkpoint of tourExecution?.checkpointsStatus || []; let i = index" 
                [class.active]="i === getCurrentCheckpointIndex()" 
                (click)="setCurrentCheckpoint(i)">
              </div>
            </div>
          </div>
          
        </div>
      </div>
      <div class="mapDetails">

      </div>
    </div>
    
</div>
  