{"version":3,"file":"index.mjs","sources":["../src/shipped-proposals.ts","../src/built-in-definitions.ts","../src/usage-filters.ts","../src/utils.ts","../src/index.ts"],"sourcesContent":["// This file is automatically generated by scripts/build-corejs3-shipped-proposals.mjs\n\nexport default new Set<string>([\n  \"esnext.array.from-async\",\n  \"esnext.array.group\",\n  \"esnext.array.group-to-map\",\n  \"esnext.array-buffer.detached\",\n  \"esnext.array-buffer.transfer\",\n  \"esnext.array-buffer.transfer-to-fixed-length\",\n  \"esnext.iterator.constructor\",\n  \"esnext.iterator.drop\",\n  \"esnext.iterator.every\",\n  \"esnext.iterator.filter\",\n  \"esnext.iterator.find\",\n  \"esnext.iterator.flat-map\",\n  \"esnext.iterator.for-each\",\n  \"esnext.iterator.from\",\n  \"esnext.iterator.map\",\n  \"esnext.iterator.reduce\",\n  \"esnext.iterator.some\",\n  \"esnext.iterator.take\",\n  \"esnext.iterator.to-array\",\n  \"esnext.json.is-raw-json\",\n  \"esnext.json.parse\",\n  \"esnext.json.raw-json\",\n  \"esnext.map.group-by\",\n  \"esnext.object.group-by\",\n  \"esnext.promise.with-resolvers\",\n  \"esnext.set.difference.v2\",\n  \"esnext.set.intersection.v2\",\n  \"esnext.set.is-disjoint-from.v2\",\n  \"esnext.set.is-subset-of.v2\",\n  \"esnext.set.is-superset-of.v2\",\n  \"esnext.set.symmetric-difference.v2\",\n  \"esnext.set.union.v2\",\n  \"esnext.symbol.async-dispose\",\n  \"esnext.symbol.dispose\",\n]);\n","import corejs3Polyfills from \"../core-js-compat/data.js\";\n\ntype ObjectMap<V> = { [name: string]: V };\ntype ObjectMap2<V> = ObjectMap<ObjectMap<V>>;\n\nexport type CoreJSPolyfillDescriptor = {\n  name: string;\n  pure: string | null;\n  global: string[];\n  exclude: string[] | null;\n};\n\nconst polyfillsOrder = {};\nObject.keys(corejs3Polyfills).forEach((name, index) => {\n  polyfillsOrder[name] = index;\n});\n\nconst define = (\n  pure,\n  global,\n  name = global[0],\n  exclude?,\n): CoreJSPolyfillDescriptor => {\n  return {\n    name,\n    pure,\n    global: global.sort((a, b) => polyfillsOrder[a] - polyfillsOrder[b]),\n    exclude,\n  };\n};\n\nconst typed = (name: string) => define(null, [name, ...TypedArrayDependencies]);\n\nconst ArrayNatureIterators = [\n  \"es.array.iterator\",\n  \"web.dom-collections.iterator\",\n];\n\nexport const CommonIterators = [\"es.string.iterator\", ...ArrayNatureIterators];\n\nconst ArrayNatureIteratorsWithTag = [\n  \"es.object.to-string\",\n  ...ArrayNatureIterators,\n];\n\nconst CommonIteratorsWithTag = [\"es.object.to-string\", ...CommonIterators];\n\nconst ErrorDependencies = [\"es.error.cause\", \"es.error.to-string\"];\n\nconst SuppressedErrorDependencies = [\n  \"esnext.suppressed-error.constructor\",\n  ...ErrorDependencies,\n];\n\nconst TypedArrayDependencies = [\n  \"es.typed-array.at\",\n  \"es.typed-array.copy-within\",\n  \"es.typed-array.every\",\n  \"es.typed-array.fill\",\n  \"es.typed-array.filter\",\n  \"es.typed-array.find\",\n  \"es.typed-array.find-index\",\n  \"es.typed-array.find-last\",\n  \"es.typed-array.find-last-index\",\n  \"es.typed-array.for-each\",\n  \"es.typed-array.includes\",\n  \"es.typed-array.index-of\",\n  \"es.typed-array.iterator\",\n  \"es.typed-array.join\",\n  \"es.typed-array.last-index-of\",\n  \"es.typed-array.map\",\n  \"es.typed-array.reduce\",\n  \"es.typed-array.reduce-right\",\n  \"es.typed-array.reverse\",\n  \"es.typed-array.set\",\n  \"es.typed-array.slice\",\n  \"es.typed-array.some\",\n  \"es.typed-array.sort\",\n  \"es.typed-array.subarray\",\n  \"es.typed-array.to-locale-string\",\n  \"es.typed-array.to-reversed\",\n  \"es.typed-array.to-sorted\",\n  \"es.typed-array.to-string\",\n  \"es.typed-array.with\",\n  \"es.object.to-string\",\n  \"es.array.iterator\",\n  \"es.array-buffer.slice\",\n  \"esnext.array-buffer.detached\",\n  \"esnext.array-buffer.transfer\",\n  \"esnext.array-buffer.transfer-to-fixed-length\",\n  \"esnext.typed-array.filter-reject\",\n  \"esnext.typed-array.group-by\",\n  \"esnext.typed-array.to-spliced\",\n  \"esnext.typed-array.unique-by\",\n];\n\nexport const PromiseDependencies = [\"es.promise\", \"es.object.to-string\"];\n\nexport const PromiseDependenciesWithIterators = [\n  ...PromiseDependencies,\n  ...CommonIterators,\n];\n\nconst SymbolDependencies = [\n  \"es.symbol\",\n  \"es.symbol.description\",\n  \"es.object.to-string\",\n];\n\nconst MapDependencies = [\n  \"es.map\",\n  \"esnext.map.delete-all\",\n  \"esnext.map.emplace\",\n  \"esnext.map.every\",\n  \"esnext.map.filter\",\n  \"esnext.map.find\",\n  \"esnext.map.find-key\",\n  \"esnext.map.includes\",\n  \"esnext.map.key-of\",\n  \"esnext.map.map-keys\",\n  \"esnext.map.map-values\",\n  \"esnext.map.merge\",\n  \"esnext.map.reduce\",\n  \"esnext.map.some\",\n  \"esnext.map.update\",\n  ...CommonIteratorsWithTag,\n];\n\nconst SetDependencies = [\n  \"es.set\",\n  \"esnext.set.add-all\",\n  \"esnext.set.delete-all\",\n  \"esnext.set.difference\",\n  \"esnext.set.difference.v2\",\n  \"esnext.set.every\",\n  \"esnext.set.filter\",\n  \"esnext.set.find\",\n  \"esnext.set.intersection\",\n  \"esnext.set.intersection.v2\",\n  \"esnext.set.is-disjoint-from\",\n  \"esnext.set.is-disjoint-from.v2\",\n  \"esnext.set.is-subset-of\",\n  \"esnext.set.is-subset-of.v2\",\n  \"esnext.set.is-superset-of\",\n  \"esnext.set.is-superset-of.v2\",\n  \"esnext.set.join\",\n  \"esnext.set.map\",\n  \"esnext.set.reduce\",\n  \"esnext.set.some\",\n  \"esnext.set.symmetric-difference\",\n  \"esnext.set.symmetric-difference.v2\",\n  \"esnext.set.union\",\n  \"esnext.set.union.v2\",\n  ...CommonIteratorsWithTag,\n];\n\nconst WeakMapDependencies = [\n  \"es.weak-map\",\n  \"esnext.weak-map.delete-all\",\n  \"esnext.weak-map.emplace\",\n  ...CommonIteratorsWithTag,\n];\n\nconst WeakSetDependencies = [\n  \"es.weak-set\",\n  \"esnext.weak-set.add-all\",\n  \"esnext.weak-set.delete-all\",\n  ...CommonIteratorsWithTag,\n];\n\nconst DOMExceptionDependencies = [\n  \"web.dom-exception.constructor\",\n  \"web.dom-exception.stack\",\n  \"web.dom-exception.to-string-tag\",\n  \"es.error.to-string\",\n];\n\nconst URLSearchParamsDependencies = [\n  \"web.url-search-params\",\n  \"web.url-search-params.delete\",\n  \"web.url-search-params.has\",\n  \"web.url-search-params.size\",\n  ...CommonIteratorsWithTag,\n];\n\nconst AsyncIteratorDependencies = [\n  \"esnext.async-iterator.constructor\",\n  ...PromiseDependencies,\n];\n\nconst AsyncIteratorProblemMethods = [\n  \"esnext.async-iterator.every\",\n  \"esnext.async-iterator.filter\",\n  \"esnext.async-iterator.find\",\n  \"esnext.async-iterator.flat-map\",\n  \"esnext.async-iterator.for-each\",\n  \"esnext.async-iterator.map\",\n  \"esnext.async-iterator.reduce\",\n  \"esnext.async-iterator.some\",\n];\n\nconst IteratorDependencies = [\n  \"esnext.iterator.constructor\",\n  \"es.object.to-string\",\n];\n\nexport const DecoratorMetadataDependencies = [\n  \"esnext.symbol.metadata\",\n  \"esnext.function.metadata\",\n];\n\nconst TypedArrayStaticMethods = {\n  from: define(null, [\"es.typed-array.from\"]),\n  fromAsync: define(null, [\n    \"esnext.typed-array.from-async\",\n    ...PromiseDependenciesWithIterators,\n  ]),\n  of: define(null, [\"es.typed-array.of\"]),\n};\n\nconst DataViewDependencies = [\n  \"es.data-view\",\n  \"es.array-buffer.slice\",\n  \"es.object.to-string\",\n];\n\nexport const BuiltIns: ObjectMap<CoreJSPolyfillDescriptor> = {\n  AsyncDisposableStack: define(\"async-disposable-stack/index\", [\n    \"esnext.async-disposable-stack.constructor\",\n    \"es.object.to-string\",\n    \"esnext.async-iterator.async-dispose\",\n    \"esnext.iterator.dispose\",\n    ...PromiseDependencies,\n    ...SuppressedErrorDependencies,\n  ]),\n  AsyncIterator: define(\"async-iterator/index\", AsyncIteratorDependencies),\n  AggregateError: define(\"aggregate-error\", [\n    \"es.aggregate-error\",\n    ...ErrorDependencies,\n    ...CommonIteratorsWithTag,\n    \"es.aggregate-error.cause\",\n  ]),\n  ArrayBuffer: define(null, [\n    \"es.array-buffer.constructor\",\n    \"es.array-buffer.slice\",\n    \"es.object.to-string\",\n  ]),\n  DataView: define(null, DataViewDependencies),\n  Date: define(null, [\"es.date.to-string\"]),\n  DOMException: define(\"dom-exception/index\", DOMExceptionDependencies),\n  DisposableStack: define(\"disposable-stack/index\", [\n    \"esnext.disposable-stack.constructor\",\n    \"es.object.to-string\",\n    \"esnext.iterator.dispose\",\n    ...SuppressedErrorDependencies,\n  ]),\n  Error: define(null, ErrorDependencies),\n  EvalError: define(null, ErrorDependencies),\n  Float32Array: typed(\"es.typed-array.float32-array\"),\n  Float64Array: typed(\"es.typed-array.float64-array\"),\n  Int8Array: typed(\"es.typed-array.int8-array\"),\n  Int16Array: typed(\"es.typed-array.int16-array\"),\n  Int32Array: typed(\"es.typed-array.int32-array\"),\n  Iterator: define(\"iterator/index\", IteratorDependencies),\n  Uint8Array: typed(\"es.typed-array.uint8-array\"),\n  Uint8ClampedArray: typed(\"es.typed-array.uint8-clamped-array\"),\n  Uint16Array: typed(\"es.typed-array.uint16-array\"),\n  Uint32Array: typed(\"es.typed-array.uint32-array\"),\n  Map: define(\"map/index\", MapDependencies),\n  Number: define(null, [\"es.number.constructor\"]),\n  Observable: define(\"observable/index\", [\n    \"esnext.observable\",\n    \"esnext.symbol.observable\",\n    \"es.object.to-string\",\n    ...CommonIteratorsWithTag,\n  ]),\n  Promise: define(\"promise/index\", PromiseDependencies),\n  RangeError: define(null, ErrorDependencies),\n  ReferenceError: define(null, ErrorDependencies),\n  Reflect: define(null, [\"es.reflect.to-string-tag\", \"es.object.to-string\"]),\n  RegExp: define(null, [\n    \"es.regexp.constructor\",\n    \"es.regexp.dot-all\",\n    \"es.regexp.exec\",\n    \"es.regexp.sticky\",\n    \"es.regexp.to-string\",\n  ]),\n  Set: define(\"set/index\", SetDependencies),\n  SuppressedError: define(\"suppressed-error\", SuppressedErrorDependencies),\n  Symbol: define(\"symbol/index\", SymbolDependencies),\n  SyntaxError: define(null, ErrorDependencies),\n  TypeError: define(null, ErrorDependencies),\n  URIError: define(null, ErrorDependencies),\n  URL: define(\"url/index\", [\"web.url\", ...URLSearchParamsDependencies]),\n  URLSearchParams: define(\n    \"url-search-params/index\",\n    URLSearchParamsDependencies,\n  ),\n  WeakMap: define(\"weak-map/index\", WeakMapDependencies),\n  WeakSet: define(\"weak-set/index\", WeakSetDependencies),\n\n  atob: define(\"atob\", [\"web.atob\", ...DOMExceptionDependencies]),\n  btoa: define(\"btoa\", [\"web.btoa\", ...DOMExceptionDependencies]),\n  clearImmediate: define(\"clear-immediate\", [\"web.immediate\"]),\n  compositeKey: define(\"composite-key\", [\"esnext.composite-key\"]),\n  compositeSymbol: define(\"composite-symbol\", [\"esnext.composite-symbol\"]),\n  escape: define(\"escape\", [\"es.escape\"]),\n  fetch: define(null, PromiseDependencies),\n  globalThis: define(\"global-this\", [\"es.global-this\"]),\n  parseFloat: define(\"parse-float\", [\"es.parse-float\"]),\n  parseInt: define(\"parse-int\", [\"es.parse-int\"]),\n  queueMicrotask: define(\"queue-microtask\", [\"web.queue-microtask\"]),\n  self: define(\"self\", [\"web.self\"]),\n  setImmediate: define(\"set-immediate\", [\"web.immediate\"]),\n  setInterval: define(\"set-interval\", [\"web.timers\"]),\n  setTimeout: define(\"set-timeout\", [\"web.timers\"]),\n  structuredClone: define(\"structured-clone\", [\n    \"web.structured-clone\",\n    ...DOMExceptionDependencies,\n    \"es.array.iterator\",\n    \"es.object.keys\",\n    \"es.object.to-string\",\n    \"es.map\",\n    \"es.set\",\n  ]),\n  unescape: define(\"unescape\", [\"es.unescape\"]),\n};\n\nexport const StaticProperties: ObjectMap2<CoreJSPolyfillDescriptor> = {\n  AsyncIterator: {\n    from: define(\"async-iterator/from\", [\n      \"esnext.async-iterator.from\",\n      ...AsyncIteratorDependencies,\n      ...AsyncIteratorProblemMethods,\n      ...CommonIterators,\n    ]),\n  },\n  Array: {\n    from: define(\"array/from\", [\"es.array.from\", \"es.string.iterator\"]),\n    fromAsync: define(\"array/from-async\", [\n      \"esnext.array.from-async\",\n      ...PromiseDependenciesWithIterators,\n    ]),\n    isArray: define(\"array/is-array\", [\"es.array.is-array\"]),\n    isTemplateObject: define(\"array/is-template-object\", [\n      \"esnext.array.is-template-object\",\n    ]),\n    of: define(\"array/of\", [\"es.array.of\"]),\n  },\n\n  ArrayBuffer: {\n    isView: define(null, [\"es.array-buffer.is-view\"]),\n  },\n\n  BigInt: {\n    range: define(\"bigint/range\", [\n      \"esnext.bigint.range\",\n      \"es.object.to-string\",\n    ]),\n  },\n\n  Date: {\n    now: define(\"date/now\", [\"es.date.now\"]),\n  },\n\n  Function: {\n    isCallable: define(\"function/is-callable\", [\"esnext.function.is-callable\"]),\n    isConstructor: define(\"function/is-constructor\", [\n      \"esnext.function.is-constructor\",\n    ]),\n  },\n\n  Iterator: {\n    from: define(\"iterator/from\", [\n      \"esnext.iterator.from\",\n      ...IteratorDependencies,\n      ...CommonIterators,\n    ]),\n    range: define(\"iterator/range\", [\n      \"esnext.iterator.range\",\n      \"es.object.to-string\",\n    ]),\n  },\n\n  JSON: {\n    isRawJSON: define(\"json/is-raw-json